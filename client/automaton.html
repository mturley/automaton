<head>
  <title>Automaton</title>
  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <link rel="shortcut icon" href="../assets/ico/favicon.ico">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
</head>

<body>
  {{> body}}
  {{> hiddenElements}}
</body>

<template name="body">
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
        <a class="brand" href="/">Deterministic Finite Automaton Simulator</a>
        <div class="nav-collapse collapse">
          <p class="navbar-text pull-right">
            {{#if currentUser}}
              Welcome back, {{loginButtons}}  You have {{numSavedAutomata}} Saved Automata
            {{else}}
              {{loginButtons}} to automatically save your work
            {{/if}}
          </p>
          <ul class="nav">
            <li class="active"><a href="#">My Automata</a></li>
            <li><a href="#new" class="button_new-automaton">New Automaton</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row-fluid">
      <div class="span3">
        <div class="well sidebar-nav">
          <ul class="nav nav-list" id="myautomata">
            <li class="nav-header">My Automata</li>
            {{#each myautomata}}
              <li{{#if isActiveGraph}} class="active"{{/if}}>
                <a href="#">{{title}}</a>
                <i class="delete-icon" title="Delete Automaton"></i>
              </li>
            {{else}}
              <li>There's nothing here...</l1>
            {{/each}}
          </ul>
        </div><!--/.well -->
      </div><!--/span-->
      <div class="span9">
        <div class="hero-unit" align="center">
          {{#if activeGraphExists}}
            <h2>{{activeGraph.title}}</h2>
            <br>
          {{else}}
            <h1>Welcome!</h1>
            <br><br>
            <p>Please select a saved automaton from the left to work on it, or create a new one.</p>
            <br><br>
            <p><a class="btn btn-primary btn-large button_new-automaton">New Automaton &raquo;</a></p>
          {{/if}}
        </div>
      </div><!--/span-->
    </div><!--/row-->

    <hr>

    <footer>
      <p>&copy; <a href="http://miketurley.com/">Mike Turley</a> 2012.  Powered by <a href="http://meteor.com/">Meteor</a>.</p>
    </footer>

  </div><!--/.fluid-container-->
</template>

<template name="hiddenElements">
  <div id="confirm-delete-dialog" class="modal hide fade">
    <div class="modal-header">
      <h3>Delete Automaton</h3>
    </div>
    <div class="modal-body">
      <p>You are about to delete a saved automaton.  This is irreversible.</p>
      <p>Do you want to proceed?</p>
    </div>
    <div class="modal-footer">
      <a href="#" class="btn btn-danger">Yes, Delete this Automaton</a>
      <a href="#" class="btn btn-secondary">No</a>
    </div>
  </div>
</template>